тут бизнесовая логика, сервисная логика должна быть максимально чистой. никаких технических деталей